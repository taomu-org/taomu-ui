import{c as Oe,a as w,j as Ve,l as A}from"./mini-scrollbar-CZ8eNCm3.js";import{r as M,R as d}from"./index-CZMpeKRu.js";import{u as we,a as qe,c as xe}from"./use-taomu-classname-CGrN28Ws.js";import{i as Ce,a as Fe,b as De}from"./input.styled-U-wJld5r.js";import{D as Be}from"./dropdown-CZd6qxFj.js";import"./index-DhsYTemN.js";import{i as ke}from"./global-vars-CQDXv0Fn.js";import{L as Pe}from"./loading-eEEt9sJo.js";import{P as c}from"./index-bPVxIqPX.js";function z(){return z=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var n=arguments[l];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},z.apply(this,arguments)}function je(e,l){if(e==null)return{};var n=Ie(e,l),t,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],!(l.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Ie(e,l){if(e==null)return{};var n={},t=Object.keys(e),r,i;for(i=0;i<t.length;i++)r=t[i],!(l.indexOf(r)>=0)&&(n[r]=e[r]);return n}var R=M.forwardRef(function(e,l){var n=e.color,t=n===void 0?"currentColor":n,r=e.size,i=r===void 0?24:r,h=je(e,["color","size"]);return d.createElement("svg",z({ref:l,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},h),d.createElement("polyline",{points:"6 9 12 15 18 9"}))});R.propTypes={color:c.string,size:c.oneOfType([c.string,c.number])};R.displayName="ChevronDown";function N(){return N=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var n=arguments[l];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},N.apply(this,arguments)}function Te(e,l){if(e==null)return{};var n=Se(e,l),t,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],!(l.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Se(e,l){if(e==null)return{};var n={},t=Object.keys(e),r,i;for(i=0;i<t.length;i++)r=t[i],!(l.indexOf(r)>=0)&&(n[r]=e[r]);return n}var W=M.forwardRef(function(e,l){var n=e.color,t=n===void 0?"currentColor":n,r=e.size,i=r===void 0?24:r,h=Te(e,["color","size"]);return d.createElement("svg",N({ref:l,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},h),d.createElement("polyline",{points:"18 15 12 9 6 15"}))});W.propTypes={color:c.string,size:c.oneOfType([c.string,c.number])};W.displayName="ChevronUp";function L(){return L=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var n=arguments[l];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},L.apply(this,arguments)}function _e(e,l){if(e==null)return{};var n=Ae(e,l),t,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],!(l.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Ae(e,l){if(e==null)return{};var n={},t=Object.keys(e),r,i;for(i=0;i<t.length;i++)r=t[i],!(l.indexOf(r)>=0)&&(n[r]=e[r]);return n}var $=M.forwardRef(function(e,l){var n=e.color,t=n===void 0?"currentColor":n,r=e.size,i=r===void 0?24:r,h=_e(e,["color","size"]);return d.createElement("svg",L({ref:l,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},h),d.createElement("circle",{cx:"11",cy:"11",r:"8"}),d.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});$.propTypes={color:c.string,size:c.oneOfType([c.string,c.number])};$.displayName="Search";try{Dropdown.displayName="Dropdown",Dropdown.__docgenInfo={description:"",displayName:"Dropdown",props:{menus:{defaultValue:null,description:"",name:"menus",required:!1,type:{name:"MenuItemProps[]"}},menuProps:{defaultValue:{value:"{}"},description:"",name:"menuProps",required:!1,type:{name:"MenuProps"}},equalWidth:{defaultValue:null,description:"",name:"equalWidth",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"equal"'},{value:'"min-width"'},{value:'"max-width"'}]}},onMenuItemClick:{defaultValue:null,description:"",name:"onMenuItemClick",required:!1,type:{name:"((item: MenuItemProps, index: number, event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},children:{defaultValue:null,description:"触发元素",name:"children",required:!0,type:{name:"Element"}},content:{defaultValue:null,description:"弹出内容",name:"content",required:!1,type:{name:"ComponentType<any>"}},contentProps:{defaultValue:{value:"{}"},description:"弹出内容 props 用于更新弹层内部数据",name:"contentProps",required:!1,type:{name:"MenuProps"}},trigger:{defaultValue:{value:"click"},description:"触发条件，默认: click",name:"trigger",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"click"'},{value:'"hover"'}]}},position:{defaultValue:null,description:"弹出位置, 默认为 'bottom-left'",name:"position",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"center"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-bottom"'},{value:'"bottom-center"'},{value:'"bottom-left"'},{value:'"bottom-right"'},{value:'"bottom-top"'},{value:'"center-bottom"'},{value:'"center-center"'},{value:'"center-left"'},{value:'"center-right"'},{value:'"center-top"'},{value:'"left-bottom"'},{value:'"left-center"'},{value:'"left-left"'},{value:'"left-right"'},{value:'"left-top"'},{value:'"right-bottom"'},{value:'"right-center"'},{value:'"right-left"'},{value:'"right-right"'},{value:'"right-top"'},{value:'"top-bottom"'},{value:'"top-center"'},{value:'"top-left"'},{value:'"top-right"'},{value:'"top-top"'},{value:'"dialog-center"'}]}},portalOptions:{defaultValue:{value:"{}"},description:"传送门选项",name:"portalOptions",required:!1,type:{name:"PopupPortalOptions"}},debounceTime:{defaultValue:null,description:"防抖时间, 只在 trigger 为 hover 时生效",name:"debounceTime",required:!1,type:{name:"number"}}}}}catch{}ke("common",{});const ze=Oe``,Z=d.forwardRef(({className:e,cssVars:l,style:n,status:t="default",allowClear:r,width:i="100%",height:h=32,padding:ee="0 8px",placeholder:te,radius:ne,leftNode:ue,rightNode:H,showSearch:p,options:o,loading:re,defaultOpened:ae=!1,openOnFocus:le,closeOnBlur:ie=!0,dropdownProps:q={},name:oe,labelProp:G="label",valueProp:v="value",filterProp:x="label",value:m,onChange:B,onFocus:k,onBlur:P,onKeyDown:j,...se},de)=>{const g=d.useRef(null),b=d.useRef(null),[C,I]=d.useState(!1),[O,U]=d.useState(ae),[E,F]=d.useState(),[V,K]=d.useState(""),ce=we("select","flex row center-v gap-6",`status-${t}`,{focused:C},e),fe=qe({inputWidth:i,inputHeight:h,inputPadding:ee,inputRadius:ne,...l},n);d.useImperativeHandle(de,J),d.useEffect(()=>{var u,a;C?(u=g.current)==null||u.focus():(a=g.current)==null||a.blur()},[C]),d.useEffect(()=>{var u;if(p){const a=o==null?void 0:o.find(s=>s[v]==m);a&&K(((u=a==null?void 0:a.label)==null?void 0:u.toString())||"")}},[m,p,v]);const y=d.useMemo(()=>{var a;const u=[];if(!(o!=null&&o.length))return u;for(let s=0;s<o.length;s++){const f=o[s];if(p&&V){const D=typeof x=="string"?[x]:x;let Y=!1;for(let _=0;_<D.length;_++){const Ee=D[_];if((a=f[Ee])!=null&&a.includes(V)){Y=!0;break}}if(!Y)continue}u.push({name:(f.name||f[v])??s,active:E===s,...f})}return u},[o,E,V,x]);d.useEffect(()=>{T()},[m,V]);const pe=d.useMemo(()=>{if(p)return V;if(!m)return"";const u=o==null?void 0:o.find(s=>s[v]==m);return(u==null?void 0:u[G])||m},[m,o,G,v,V,p]);function J(){return{target:{name:oe,value:m},opened:O,input:g.current,dropdown:b.current,setFocused:I}}function me(u){const a=o==null?void 0:o.findIndex(D=>D.value==u);if(a===void 0||a<0)return;const s=o==null?void 0:o[a];F(a);const f=J();f.target.value=u,B==null||B(f,s==null?void 0:s[v],s)}function Q(u=0){const a=y==null?void 0:y[u<0?0:u];a&&(me(a[v]),S())}function T(){const u=o==null?void 0:o.findIndex(a=>a[v]==m);F(u)}function X(){var u,a;T(),(u=g.current)!=null&&u.parentElement?(U(!0),(a=b.current)==null||a.openPopup(g.current.parentElement)):console.warn("Select open field: element not found")}function S(){var u;T(),U(!1),(u=b.current)==null||u.closePopup()}function ve(u){I(!0),k==null||k(u),setTimeout(()=>{var a,s;le&&!O&&!((s=(a=b.current)==null?void 0:a.popupPortal)!=null&&s.isEnter)&&X()},120)}function ge(u){I(!1),P==null||P(u),ie&&S()}function ye(u){switch(j==null||j(u),u.key){case"Escape":S();break;case"Enter":O?Q(E):X();break;case"ArrowDown":if(O){u.preventDefault();const a=E===void 0?0:(E+1)%y.length;F(a)}break;case"ArrowUp":if(O){u.preventDefault();const a=E===void 0?y.length-1:(E-1+y.length)%y.length;F(a)}break}}function he(u){var a,s,f;p&&(K(u.target.value),!((s=(a=b.current)==null?void 0:a.popupPortal)!=null&&s.isEnter)&&g.current&&((f=b.current)==null||f.openPopup(g.current.parentElement)))}function be(){return H||(re?w(Pe,{size:16,weight:2}):p&&C?w($,{size:16,color:A("colorTextGray")}):O?w(W,{size:16,color:A("colorTextGray")}):w(R,{size:16,color:A("colorTextGray")}))}return w(Be,{ref:b,trigger:"click",equalWidth:"equal",menus:y,onMenuItemClick:(u,a)=>{Q(a)},...q,portalOptions:{escToClose:!0,...q==null?void 0:q.portalOptions},children:Ve("div",{className:ce,style:fe,css:[Ce,Fe,ze],onKeyDown:ye,...se,children:[ue,w("input",{ref:g,css:De,readOnly:!p,placeholder:te,value:pe,className:xe({cud:!p}),onFocus:ve,onBlur:ge,onChange:he}),be()]})})});try{Z.displayName="Select",Z.__docgenInfo={description:"",displayName:"Select",props:{status:{defaultValue:{value:"default"},description:"状态",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"warning"'},{value:'"error"'},{value:'"success"'}]}},allowClear:{defaultValue:null,description:"显示清除按钮",name:"allowClear",required:!1,type:{name:"boolean"}},width:{defaultValue:{value:"100%"},description:"外围宽度",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:{value:"32"},description:"外围高度",name:"height",required:!1,type:{name:"Height<string | number>"}},padding:{defaultValue:{value:"0 8px"},description:"外围 padding",name:"padding",required:!1,type:{name:"Padding<string | number>"}},radius:{defaultValue:null,description:"圆角",name:"radius",required:!1,type:{name:"BorderRadius<string | number>"}},leftNode:{defaultValue:null,description:"左侧扩展元素",name:"leftNode",required:!1,type:{name:"ReactNode"}},rightNode:{defaultValue:null,description:"右侧扩展元素",name:"rightNode",required:!1,type:{name:"ReactNode"}},placeholder:{defaultValue:null,description:"占位符",name:"placeholder",required:!1,type:{name:"string"}},showSearch:{defaultValue:null,description:"支持搜索",name:"showSearch",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"下拉选项",name:"options",required:!1,type:{name:"SelectOptionItem[]"}},dropdownProps:{defaultValue:{value:"{}"},description:"dropdownProps",name:"dropdownProps",required:!1,type:{name:"DropdownProps<MenuProps>"}},loading:{defaultValue:null,description:"是否正在加载",name:"loading",required:!1,type:{name:"boolean"}},defaultOpened:{defaultValue:{value:"false"},description:"默认打开状态",name:"defaultOpened",required:!1,type:{name:"boolean"}},openOnFocus:{defaultValue:null,description:"聚焦时自动打开",name:"openOnFocus",required:!1,type:{name:"boolean"}},closeOnBlur:{defaultValue:{value:"true"},description:"失去焦点时关闭",name:"closeOnBlur",required:!1,type:{name:"boolean"}},labelProp:{defaultValue:{value:"label"},description:"label 字段映射",name:"labelProp",required:!1,type:{name:"string"}},valueProp:{defaultValue:{value:"value"},description:"value 字段映射",name:"valueProp",required:!1,type:{name:"string"}},filterProp:{defaultValue:{value:"label"},description:"搜索字段映射",name:"filterProp",required:!1,type:{name:"string | string[]"}},name:{defaultValue:null,description:"由 Form.Item 组件传入",name:"name",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"值",name:"value",required:!1,type:{name:"DefaultValueType"}},defaultValue:{defaultValue:null,description:"默认值",name:"defaultValue",required:!1,type:{name:"DefaultValueType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((ref: SelectRef, value?: DefaultValueType, item?: SelectOptionItem) => void) | undefined"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<HTMLInputElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<HTMLInputElement, Element>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent<HTMLInputElement>) => void)"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"ClassValue"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}},cssVars:{defaultValue:null,description:"重写 css 变量",name:"cssVars",required:!1,type:{name:"SelectCssVars"}}}}}catch{}export{R as C,Z as S,W as a,$ as b};
