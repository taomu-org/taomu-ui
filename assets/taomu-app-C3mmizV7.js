import{a as n,F as f,g,u as y,j as b,G as S}from"./mini-scrollbar-BOcaVSbM.js";import{R as o}from"./index-2yJIXLcc.js";import{g as m,u as d}from"./use-custom-event-BLRByl6k.js";import{g as i}from"./global-style-DreW4H67.js";import{p as h}from"./popup.store-F3KXIqw7.js";const c=()=>{const{popupsMap:e,updateCount:s}=h.useStore(["popupsMap","updateCount"]),p=o.useMemo(()=>{const a=[];for(const[l,[r,u]]of e)a.push(r.render(u));return a},[e,s]);return n(f,{children:p})};try{c.displayName="PopupService",c.__docgenInfo={description:"",displayName:"PopupService",props:{}}}catch{}let t="";const _=({children:e})=>{const s=o.useRef(g()),{theme:p}=y(),[a,l]=o.useState(m()),[r,u]=o.useState(i());return d("taomu://update-global-css-vars",()=>{l(m())}),d("taomu://update-global-style",()=>{u(i())}),o.useEffect(()=>{document.documentElement.dataset.theme=p},[p]),o.useEffect(()=>(t?console.error("TaomuApp only support one instance"):t=s.current,()=>{t=""}),[]),b(f,{children:[(!t||t===s.current)&&n(c,{}),n(S,{styles:[a,r]}),e]})};try{_.displayName="TaomuApp",_.__docgenInfo={description:`初始化 TaomuApp

包裹根节点

请确保全局只有一个 TaomuApp`,displayName:"TaomuApp",props:{}}}catch{}export{_ as T};
