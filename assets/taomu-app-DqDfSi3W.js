import{a as n,F as f,Q as y,u as g,j as b,G as S}from"./mini-scrollbar-CZ8eNCm3.js";import{R as o}from"./index-CZMpeKRu.js";import{g as m}from"./global-vars-CQDXv0Fn.js";import{g as d,u as i}from"./use-custom-event-BQUnmHFA.js";import{p as h}from"./popup.store-C2C6BHPT.js";const c=()=>{const{popupsMap:e,updateCount:s}=h.useStore(["popupsMap","updateCount"]),p=o.useMemo(()=>{const a=[];for(const[l,[r,u]]of e)a.push(r.render(u));return a},[e,s]);return n(f,{children:p})};try{c.displayName="PopupService",c.__docgenInfo={description:"",displayName:"PopupService",props:{}}}catch{}let t="";const _=({children:e})=>{const s=o.useRef(y()),{theme:p}=g(),[a,l]=o.useState(m()),[r,u]=o.useState(d());return i("taomu://update-global-css-vars",()=>{l(m())}),i("taomu://update-global-style",()=>{u(d())}),o.useEffect(()=>{document.documentElement.dataset.theme=p},[p]),o.useEffect(()=>(t?console.error("TaomuApp only support one instance"):t=s.current,()=>{t=""}),[]),b(f,{children:[(!t||t===s.current)&&n(c,{}),n(S,{styles:[a,r]}),e]})};try{_.displayName="TaomuApp",_.__docgenInfo={description:`初始化 TaomuApp

包裹根节点

请确保全局只有一个 TaomuApp`,displayName:"TaomuApp",props:{}}}catch{}export{_ as T};
